
class AveragesController < ApplicationController

  def averageinfo
    which_station = params[:station]
    day = Time.now.localtime.wday
    results = Average.where(station_id: which_station, day_of_week: day)
    render json: results.to_json
  end

  def temp
    capacity_hash = {150=>31, 152=>29, 218=>38, 241=>23, 258=>23, 274=>31, 291=>20, 306=>37, 318=>31, 334=>31, 336=>36, 347=>35, 361=>43, 377=>47, 392=>32, 396=>25, 404=>39, 416=>31, 434=>27, 447=>31, 457=>59, 465=>39, 478=>31, 491=>53, 503=>29, 72=>39, 79=>33, 82=>27, 83=>62, 116=>39, 119=>19, 120=>19, 127=>31, 128=>29, 137=>46, 143=>24, 144=>19, 146=>39, 147=>33, 151=>33, 153=>55, 157=>23, 160=>26, 161=>35, 164=>47, 167=>45, 168=>47, 173=>51, 174=>30, 195=>45, 212=>28, 216=>23, 217=>39, 223=>33, 224=>31, 225=>37, 228=>55, 229=>27, 232=>23, 233=>39, 236=>39, 237=>39, 238=>31, 239=>31, 242=>23, 243=>31, 244=>31, 245=>23, 247=>20, 248=>23, 249=>27, 250=>40, 251=>27, 252=>33, 253=>3, 254=>3, 257=>39, 259=>39, 260=>35, 261=>27, 262=>24, 263=>31, 264=>27, 265=>35, 266=>24, 267=>57, 268=>27, 270=>23, 271=>39, 275=>19, 276=>25, 278=>19, 279=>36, 280=>31, 281=>59, 282=>27, 284=>43, 285=>47, 289=>19, 290=>29, 293=>55, 294=>31, 295=>24, 296=>35, 297=>27, 298=>35, 300=>55, 301=>37, 302=>23, 303=>31, 304=>36, 305=>33, 307=>31, 308=>27, 309=>41, 310=>36, 311=>30, 312=>31, 313=>23, 314=>39, 315=>29, 316=>43, 317=>27, 319=>35, 320=>39, 321=>27, 322=>31, 323=>39, 324=>51, 325=>35, 326=>27, 327=>39, 328=>23, 329=>32, 330=>39, 331=>27, 332=>24, 335=>27, 337=>37, 339=>24, 340=>27, 341=>19, 342=>29, 343=>23, 344=>23, 345=>35, 346=>27, 348=>42, 349=>23, 350=>28, 351=>39, 352=>36, 353=>27, 354=>31, 355=>43, 356=>23, 357=>27, 358=>36, 359=>55, 360=>39, 362=>57, 363=>49, 364=>27, 365=>31, 366=>33, 367=>34, 368=>39, 369=>35, 372=>27, 373=>19, 375=>30, 376=>43, 379=>42, 380=>39, 382=>36, 383=>39, 384=>31, 385=>29, 386=>43, 387=>39, 388=>35, 389=>27, 390=>31, 391=>31, 393=>31, 394=>32, 395=>30, 397=>27, 398=>31, 399=>27, 400=>15, 401=>42, 402=>42, 403=>31, 405=>40, 406=>34, 407=>43, 408=>23, 409=>19, 410=>35, 411=>23, 412=>20, 414=>24, 415=>42, 417=>47, 418=>23, 419=>23, 420=>23, 421=>19, 422=>55, 423=>39, 426=>31, 427=>59, 428=>31, 430=>27, 431=>30, 432=>31, 433=>39, 435=>47, 436=>27, 437=>0, 438=>27, 439=>39, 440=>32, 441=>35, 442=>51, 443=>23, 444=>52, 445=>42, 446=>39, 448=>31, 449=>31, 450=>59, 453=>39, 454=>35, 455=>39, 456=>35, 458=>31, 459=>49, 460=>23, 461=>39, 462=>47, 463=>25, 464=>59, 466=>35, 467=>34, 468=>59, 469=>57, 470=>37, 471=>31, 472=>41, 473=>42, 474=>47, 475=>37, 476=>47, 477=>59, 479=>31, 480=>27, 481=>25, 482=>39, 483=>35, 484=>44, 485=>39, 486=>39, 487=>36, 488=>41, 489=>37, 490=>59, 492=>49, 493=>34, 494=>35, 495=>25, 496=>47, 497=>59, 498=>30, 499=>36, 500=>52, 501=>43, 502=>30, 504=>45, 505=>36, 507=>47, 508=>24, 509=>36, 510=>51, 511=>33, 512=>27, 513=>27, 514=>53, 515=>35, 516=>39, 517=>55, 518=>39, 519=>61, 520=>39, 521=>67, 522=>51, 523=>51, 524=>3, 525=>39, 526=>40, 527=>59, 528=>39, 529=>41, 530=>36, 531=>39, 532=>43, 533=>50, 534=>31, 536=>29, 537=>39, 538=>39, 539=>31, 540=>39, 545=>27, 546=>38, 2000=>30, 2001=>15, 2002=>27, 2003=>30, 2004=>36, 2005=>12, 2006=>49, 2008=>24, 2009=>35, 2010=>39, 2012=>36, 2017=>39, 2021=>43, 2022=>33, 2023=>36, 3002=>25}
    stations = Station.all
    stations.each do |station|
      station.update(capacity: capacity_hash[station.citibike_id])
    end
  end

end
